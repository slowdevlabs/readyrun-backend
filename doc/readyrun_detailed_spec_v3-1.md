# ReadyRun ë§ˆë¼í†¤ ëŒ€íšŒ ì •ë³´ ì•± ìƒì„¸ê¸°íšì„œ v3.0

## ğŸ“‹ ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜](#2-ê¸°ìˆ -ìŠ¤íƒ-ë°-ì•„í‚¤í…ì²˜)
3. [ê¸°ëŠ¥ ëª…ì„¸ì„œ](#3-ê¸°ëŠ¥-ëª…ì„¸ì„œ)
4. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#4-ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
5. [API ì„¤ê³„](#5-api-ì„¤ê³„)
6. [UI/UX ì„¤ê³„](#6-uiux-ì„¤ê³„)
7. [ìˆ˜ìµ ëª¨ë¸](#7-ìˆ˜ìµ-ëª¨ë¸)
8. [ê°œë°œ ë¡œë“œë§µ](#8-ê°œë°œ-ë¡œë“œë§µ)
9. [ìš´ì˜ ê³„íš](#9-ìš´ì˜-ê³„íš)
10. [ë¶€ë¡](#10-ë¶€ë¡)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ì„œë¹„ìŠ¤ ì†Œê°œ
**ReadyRun**ì€ ì „ ì„¸ê³„ ë§ˆë¼í†¤ ëŒ€íšŒ ì •ë³´ë¥¼ í•œ ê³³ì—ì„œ ì°¾ê³  ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” iOS ì•±ì…ë‹ˆë‹¤. AI í¬ë¡¤ë§ì„ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë§ˆë¼í†¤ ëŒ€íšŒ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³ , ì‚¬ìš©ìì—ê²Œ ë§ì¶¤í˜• ëŒ€íšŒ ì¶”ì²œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### 1.2 íƒ€ê²Ÿ ì‚¬ìš©ì
- **ì£¼ íƒ€ê²Ÿ**: ë§ˆë¼í†¤ ì°¸ê°€ ê²½í—˜ì´ ìˆëŠ” ëŸ¬ë„ˆ (25-45ì„¸)
- **ë¶€ íƒ€ê²Ÿ**: ë§ˆë¼í†¤ì— ê´€ì‹¬ ìˆëŠ” ì´ˆë³´ ëŸ¬ë„ˆ
- **ì§€ì—­**: êµ­ë‚´ ìš°ì„ , í•´ì™¸ í™•ì¥ ê³„íš

### 1.3 í•µì‹¬ ê°€ì¹˜ ì œì•ˆ
- **í¸ì˜ì„±**: í©ì–´ì ¸ ìˆëŠ” ë§ˆë¼í†¤ ì •ë³´ë¥¼ í•œ ê³³ì—ì„œ ê²€ìƒ‰
- **ì •í™•ì„±**: AI ê¸°ë°˜ ì •ë³´ ìˆ˜ì§‘ ë° ê´€ë¦¬ì ê²€ìˆ˜
- **ê°œì¸í™”**: ì‚¬ìš©ì ì„ í˜¸ë„ ê¸°ë°˜ ë§ì¶¤ ì¶”ì²œ
- **ì‹¤ì‹œê°„ì„±**: ë“±ë¡ ë§ˆê°, ëŒ€íšŒ ë³€ê²½ì‚¬í•­ ì‹¤ì‹œê°„ ì•Œë¦¼

### 1.4 ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ
- **1ë…„ì°¨**: DAU 1,000ëª…, MAU 5,000ëª…
- **2ë…„ì°¨**: DAU 5,000ëª…, MAU 25,000ëª…
- **ìˆ˜ìµ**: AdMob ê´‘ê³  ìˆ˜ìµ ì›” $500+ (1ë…„ì°¨ ëª©í‘œ)

---

## 2. ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜

### 2.1 ê¸°ìˆ  ìŠ¤íƒ

#### Frontend (iOS)
- **ì–¸ì–´**: Swift 5.9+
- **ìµœì†Œ ì§€ì› ë²„ì „**: iOS 15.0+
- **UI í”„ë ˆì„ì›Œí¬**: UIKit + SwiftUI (ë¶€ë¶„ì )
- **ì•„í‚¤í…ì²˜**: MVVM-C (Model-View-ViewModel-Coordinator)
- **ì˜ì¡´ì„± ê´€ë¦¬**: Swift Package Manager
- **ë„¤íŠ¸ì›Œí‚¹**: URLSession + Async/Await
- **ë¡œì»¬ ì €ì¥ì†Œ**: Core Data
- **ê´‘ê³ **: Google AdMob SDK
- **ì¸ì¦**: Firebase Authentication

#### Backend
- **ëŸ°íƒ€ì„**: Node.js 18.x
- **í”„ë ˆì„ì›Œí¬**: Express.js 4.18+
- **ë°ì´í„°ë² ì´ìŠ¤**: Supabase PostgreSQL
- **ì¸ì¦**: Firebase Admin SDK
- **í¬ë¡¤ë§**: Puppeteer + Cheerio
- **ìŠ¤ì¼€ì¤„ë§**: node-cron
- **íŒŒì¼ ì €ì¥**: Supabase Storage
- **ë°°í¬**: Vercel (ë¬´ë£Œ í‹°ì–´)

#### ì¸í”„ë¼
- **ë°ì´í„°ë² ì´ìŠ¤**: Supabase (ë¬´ë£Œ í‹°ì–´ 500MB)
- **ë°±ì—”ë“œ í˜¸ìŠ¤íŒ…**: Vercel (ë¬´ë£Œ í‹°ì–´)
- **ì¸ì¦**: Firebase (Spark í”Œëœ)
- **ëª¨ë‹ˆí„°ë§**: Sentry (ë¬´ë£Œ í‹°ì–´)
- **ë¶„ì„**: Firebase Analytics

### 2.2 ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   iOS App       â”‚â—„â”€â”€â–ºâ”‚   API Gateway   â”‚â—„â”€â”€â–ºâ”‚  Backend API    â”‚
â”‚   (Swift)       â”‚    â”‚   (Vercel)     â”‚    â”‚  (Node.js)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                              â”‚
         â–¼                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Firebase Auth  â”‚                          â”‚   Supabase      â”‚
â”‚  + Analytics    â”‚                          â”‚   PostgreSQL    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                       â”‚
                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                              â”‚   AI Crawler    â”‚
                                              â”‚   (Puppeteer)   â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                       â”‚
                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                              â”‚  External       â”‚
                                              â”‚  Marathon Sites â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ê¸°ëŠ¥ ëª…ì„¸ì„œ

### 3.1 MVP ê¸°ëŠ¥ (1ì°¨ ì¶œì‹œ)

#### ì‚¬ìš©ì ê¸°ëŠ¥
1. **íšŒì›ê°€ì…/ë¡œê·¸ì¸**
   - Firebase Authentication (ì´ë©”ì¼, Google, Apple ë¡œê·¸ì¸)
   - í”„ë¡œí•„ ì„¤ì • (ì„ í˜¸ ê±°ë¦¬, ì§€ì—­, ì–¸ì–´)

2. **ë§ˆë¼í†¤ ê²€ìƒ‰ ë° ë¸Œë¼ìš°ì§•**
   - í™ˆ í™”ë©´: "ë‚´ ì£¼ë³€" + "ì¸ê¸° ëŒ€íšŒ" ì„¹ì…˜
   - ê²€ìƒ‰: ëŒ€íšŒëª…, ì§€ì—­, ë‚ ì§œ, ê±°ë¦¬ë³„ í•„í„°ë§
   - ì •ë ¬: ë‚ ì§œìˆœ, ê±°ë¦¬ìˆœ, ì¸ê¸°ìˆœ

3. **ëŒ€íšŒ ìƒì„¸ ì •ë³´**
   - ê¸°ë³¸ ì •ë³´: ë‚ ì§œ, ì¥ì†Œ, ê±°ë¦¬, ì°¸ê°€ë¹„
   - ë“±ë¡ ì •ë³´: ë§ˆê°ì¼, ë“±ë¡ ë§í¬
   - ì½”ìŠ¤ë§µ, ëŒ€íšŒ ì´ë¯¸ì§€

4. **ì¦ê²¨ì°¾ê¸°**
   - ê´€ì‹¬ ëŒ€íšŒ ì €ì¥
   - ì¦ê²¨ì°¾ê¸° ëª©ë¡ ê´€ë¦¬

5. **í‘¸ì‹œ ì•Œë¦¼**
   - ì¦ê²¨ì°¾ê¸° ëŒ€íšŒ ë“±ë¡ ë§ˆê° ì•Œë¦¼
   - ìƒˆë¡œìš´ ì¶”ì²œ ëŒ€íšŒ ì•Œë¦¼

#### ê´€ë¦¬ì ê¸°ëŠ¥
1. **ëŒ€íšŒ ìŠ¹ì¸ ì‹œìŠ¤í…œ**
   - AI í¬ë¡¤ë§ëœ ëŒ€íšŒ ì •ë³´ ê²€ìˆ˜
   - ìŠ¹ì¸/ê±°ë¶€/ìˆ˜ì • ì²˜ë¦¬
   - ìŠ¹ì¸ íˆìŠ¤í† ë¦¬ ê´€ë¦¬

### 3.2 í–¥í›„ ê°œë°œ ê¸°ëŠ¥ (2-3ì°¨ ì¶œì‹œ)

1. **ê°œì¸í™” ì¶”ì²œ**
   - ì‚¬ìš©ì í–‰ë™ ê¸°ë°˜ ML ì¶”ì²œ
   - ë‚ ì”¨, ì‹œì¦Œ ê³ ë ¤í•œ ì¶”ì²œ

2. **ì†Œì…œ ê¸°ëŠ¥**
   - ëŒ€íšŒ í›„ê¸° ë° í‰ì 
   - ëŸ¬ë‹ í¬ë£¨ ë§¤ì¹­

3. **ê³ ê¸‰ í•„í„°ë§**
   - ê³ ë„, ë‚œì´ë„, ì™„ì£¼ ë©”ë‹¬ ì—¬ë¶€ ë“±

---

## 4. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 4.1 ERD (Entity Relationship Diagram)

```
User ||--o{ Favorite : has
User ||--o{ Notification : receives
Favorite }o--|| Marathon : for
Marathon ||--o{ MarathonApproval : has
MarathonApproval }o--|| AdminUser : approved_by
AdminUser ||--o{ AdminUser : created_by
```

### 4.2 í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ

#### users í…Œì´ë¸”
```sql
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    firebase_uid VARCHAR(255) UNIQUE NOT NULL,
    email VARCHAR(255),
    display_name VARCHAR(100),
    preferred_language VARCHAR(5) DEFAULT 'ko',
    preferred_units VARCHAR(10) DEFAULT 'metric',
    preferred_distances TEXT[], -- ['5K', '10K', 'Half', 'Full']
    preferred_countries TEXT[], -- ['KR', 'US', 'JP']
    push_notifications_enabled BOOLEAN DEFAULT true,
    location_permission_granted BOOLEAN DEFAULT false,
    last_location_lat DECIMAL(10, 8),
    last_location_lng DECIMAL(11, 8),
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),
    last_login_at TIMESTAMP
);
```

#### marathons í…Œì´ë¸”
```sql
CREATE TABLE marathons (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(255) NOT NULL,
    slug VARCHAR(255) UNIQUE, -- URL-friendly name
    date_start TIMESTAMP NOT NULL,
    date_end TIMESTAMP,
    country VARCHAR(100) NOT NULL,
    city VARCHAR(100) NOT NULL,
    address TEXT,
    latitude DECIMAL(10, 8),
    longitude DECIMAL(11, 8),
    distances TEXT[] NOT NULL, -- ['5K', '10K', 'Half', 'Full']
    registration_fee INTEGER, -- cents
    currency VARCHAR(3) DEFAULT 'KRW',
    registration_deadline TIMESTAMP,
    registration_url TEXT,
    official_website TEXT,
    thumbnail_url TEXT,
    hero_image_url TEXT,
    course_map_url TEXT,
    description TEXT,
    organizer VARCHAR(255),
    max_participants INTEGER,
    elevation_gain INTEGER, -- meters
    difficulty_level INTEGER CHECK (difficulty_level BETWEEN 1 AND 5),
    status VARCHAR(20) DEFAULT 'pending', -- pending, active, cancelled, completed, rejected
    tags TEXT[], -- ['scenic', 'flat', 'challenging', 'beginner-friendly']
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),
    source VARCHAR(100), -- manual, ai_crawler, api_import
    source_url TEXT, -- original URL where data was found
    confidence_score INTEGER DEFAULT 100 CHECK (confidence_score BETWEEN 0 AND 100),
    approved_by UUID REFERENCES admin_users(id),
    approved_at TIMESTAMP,
    rejection_reason TEXT,
    view_count INTEGER DEFAULT 0,
    favorite_count INTEGER DEFAULT 0
);
```

#### favorites í…Œì´ë¸”
```sql
CREATE TABLE favorites (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    marathon_id UUID NOT NULL REFERENCES marathons(id) ON DELETE CASCADE,
    created_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(user_id, marathon_id)
);
```

#### admin_users í…Œì´ë¸”
```sql
CREATE TABLE admin_users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    firebase_uid VARCHAR(255) UNIQUE NOT NULL,
    email VARCHAR(255) NOT NULL,
    display_name VARCHAR(100),
    role VARCHAR(20) DEFAULT 'admin', -- admin, super_admin
    permissions TEXT[], -- ['marathon_approval', 'user_management', 'system_admin']
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),
    last_login_at TIMESTAMP,
    created_by UUID REFERENCES admin_users(id),
    is_active BOOLEAN DEFAULT true
);
```

#### marathon_approvals í…Œì´ë¸”
```sql
CREATE TABLE marathon_approvals (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    marathon_id UUID NOT NULL REFERENCES marathons(id) ON DELETE CASCADE,
    admin_user_id UUID NOT NULL REFERENCES admin_users(id),
    action VARCHAR(20) NOT NULL, -- approved, rejected, modified, pending_review
    notes TEXT,
    changes_made JSONB, -- what fields were modified
    previous_status VARCHAR(20),
    new_status VARCHAR(20),
    created_at TIMESTAMP DEFAULT NOW()
);
```

#### notifications í…Œì´ë¸”
```sql
CREATE TABLE notifications (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    type VARCHAR(50) NOT NULL, -- registration_deadline, new_recommendation, status_change
    title VARCHAR(255) NOT NULL,
    body TEXT NOT NULL,
    data JSONB, -- additional data for the notification
    is_read BOOLEAN DEFAULT false,
    sent_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW(),
    marathon_id UUID REFERENCES marathons(id) ON DELETE SET NULL
);
```

### 4.3 ì¸ë±ìŠ¤ ì„¤ê³„

```sql
-- ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ì¸ë±ìŠ¤
CREATE INDEX idx_marathons_date_country ON marathons(date_start, country);
CREATE INDEX idx_marathons_location ON marathons(latitude, longitude);
CREATE INDEX idx_marathons_status_date ON marathons(status, date_start) WHERE status = 'active';
CREATE INDEX idx_marathons_distances ON marathons USING GIN(distances);
CREATE INDEX idx_marathons_search ON marathons USING GIN(to_tsvector('english', name || ' ' || city));

CREATE INDEX idx_favorites_user_id ON favorites(user_id);
CREATE INDEX idx_favorites_marathon_id ON favorites(marathon_id);

CREATE INDEX idx_notifications_user_unread ON notifications(user_id, is_read, created_at);

-- ê´€ë¦¬ì ê¸°ëŠ¥ì„ ìœ„í•œ ì¸ë±ìŠ¤
CREATE INDEX idx_marathons_pending ON marathons(status, created_at) WHERE status = 'pending';
```

---

## 5. API ì„¤ê³„

### 5.1 API ê¸°ë³¸ êµ¬ì¡°

```
Base URL: https://readyrun-api.vercel.app/api/v1
Authentication: Bearer Token (Firebase JWT)
Response Format: JSON
```

### 5.2 ì¸ì¦ ê´€ë ¨ API

#### POST /auth/register
ì‚¬ìš©ì ë“±ë¡ (Firebase UID ê¸°ë°˜)
```json
Request:
{
  "firebase_uid": "string",
  "email": "string",
  "display_name": "string",
  "preferred_language": "ko",
  "preferred_units": "metric"
}

Response:
{
  "success": true,
  "data": {
    "user": {
      "id": "uuid",
      "firebase_uid": "string",
      "email": "string",
      "display_name": "string",
      "created_at": "ISO 8601"
    }
  }
}
```

### 5.3 ë§ˆë¼í†¤ ê´€ë ¨ API

#### GET /marathons
ë§ˆë¼í†¤ ëª©ë¡ ì¡°íšŒ
```
Query Parameters:
- page: number (default: 1)
- limit: number (default: 20, max: 100)
- sort: string (date_asc, date_desc, name_asc, popularity_desc)
- country: string (ISO 2-letter code)
- city: string
- distance: string[] (5K, 10K, Half, Full)
- date_from: string (ISO 8601)
- date_to: string (ISO 8601)
- lat: number (for location-based search)
- lng: number (for location-based search)
- radius: number (km, default: 50)
- tags: string[] (scenic, flat, challenging, etc.)
```

```json
Response:
{
  "success": true,
  "data": {
    "marathons": [{
      "id": "uuid",
      "name": "string",
      "slug": "string",
      "date_start": "ISO 8601",
      "location": {
        "country": "string",
        "city": "string",
        "coordinates": {
          "lat": "number",
          "lng": "number"
        }
      },
      "distances": ["5K", "10K", "Half", "Full"],
      "registration": {
        "fee": "number",
        "currency": "string",
        "deadline": "ISO 8601",
        "url": "string"
      },
      "images": {
        "thumbnail": "string",
        "hero": "string"
      },
      "tags": ["string"],
      "favorite_count": "number",
      "is_favorited": "boolean"
    }],
    "pagination": {
      "current_page": 1,
      "total_pages": 50,
      "total_count": 1000,
      "has_next": true,
      "has_prev": false
    }
  }
}
```

#### GET /marathons/:id
ë§ˆë¼í†¤ ìƒì„¸ ì¡°íšŒ
```json
Response:
{
  "success": true,
  "data": {
    "marathon": {
      "id": "uuid",
      "name": "string",
      "slug": "string",
      "date_start": "ISO 8601",
      "date_end": "ISO 8601",
      "location": {
        "country": "string",
        "city": "string",
        "address": "string",
        "coordinates": {
          "lat": "number",
          "lng": "number"
        }
      },
      "distances": ["Full", "Half"],
      "registration": {
        "fee": 50000,
        "currency": "KRW",
        "deadline": "ISO 8601",
        "url": "string",
        "max_participants": 10000
      },
      "images": {
        "thumbnail": "string",
        "hero": "string",
        "course_map": "string"
      },
      "details": {
        "description": "string",
        "organizer": "string",
        "official_website": "string",
        "elevation_gain": 200,
        "difficulty_level": 3
      },
      "tags": ["scenic", "challenging"],
      "stats": {
        "view_count": 1250,
        "favorite_count": 89
      },
      "is_favorited": false,
      "metadata": {
        "created_at": "ISO 8601",
        "updated_at": "ISO 8601",
        "source": "ai_crawler"
      }
    }
  }
}
```

#### GET /marathons/search
ë§ˆë¼í†¤ ê²€ìƒ‰
```
Query Parameters:
- q: string (ê²€ìƒ‰ì–´)
- filters: object (ë³µí•© í•„í„°)
```

### 5.4 ì¦ê²¨ì°¾ê¸° API

#### POST /favorites
ì¦ê²¨ì°¾ê¸° ì¶”ê°€
```json
Request:
{
  "marathon_id": "uuid"
}

Response:
{
  "success": true,
  "message": "Marathon added to favorites"
}
```

#### DELETE /favorites/:marathon_id
ì¦ê²¨ì°¾ê¸° ì œê±°

#### GET /favorites
ì‚¬ìš©ì ì¦ê²¨ì°¾ê¸° ëª©ë¡

### 5.5 ê´€ë¦¬ì API

#### GET /admin/marathons/pending
ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ë§ˆë¼í†¤ ëª©ë¡

#### POST /admin/marathons/:id/approve
ë§ˆë¼í†¤ ìŠ¹ì¸
```json
Request:
{
  "notes": "string",
  "changes": {
    "name": "corrected name",
    "date_start": "ISO 8601"
  }
}
```

#### POST /admin/marathons/:id/reject
ë§ˆë¼í†¤ ê±°ë¶€
```json
Request:
{
  "reason": "Duplicate event",
  "notes": "string"
}
```

### 5.6 ì—ëŸ¬ ì‘ë‹µ êµ¬ì¡°

```json
{
  "success": false,
  "error": {
    "code": "MARATHON_NOT_FOUND",
    "message": "Marathon with given ID not found",
    "details": {}
  }
}
```

### 5.7 ì—ëŸ¬ ì½”ë“œ ì •ì˜

| ì½”ë“œ | HTTP ìƒíƒœ | ì„¤ëª… |
|------|-----------|------|
| INVALID_REQUEST | 400 | ì˜ëª»ëœ ìš”ì²­ |
| UNAUTHORIZED | 401 | ì¸ì¦ í•„ìš” |
| FORBIDDEN | 403 | ê¶Œí•œ ì—†ìŒ |
| NOT_FOUND | 404 | ë¦¬ì†ŒìŠ¤ ì—†ìŒ |
| VALIDATION_ERROR | 422 | ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨ |
| RATE_LIMIT_EXCEEDED | 429 | ìš”ì²­ ì œí•œ ì´ˆê³¼ |
| INTERNAL_ERROR | 500 | ì„œë²„ ì˜¤ë¥˜ |

---

## 6. UI/UX ì„¤ê³„

### 6.1 ë””ìì¸ ì‹œìŠ¤í…œ

#### ìƒ‰ìƒ íŒ”ë ˆíŠ¸
- **Primary Blue**: #007AFF (iOS ì‹œìŠ¤í…œ ë¸”ë£¨)
- **Secondary Orange**: #FF6B35 (ì—ë„ˆì§€ê°, í™œë™ì„±)
- **Success Green**: #34C759 (ì™„ë£Œ, ì„±ê³µ)
- **Warning Orange**: #FF9500 (ì£¼ì˜, ì¤‘ìš”)
- **Error Red**: #FF3B30 (ì—ëŸ¬, ìœ„í—˜)
- **Background**: #F2F2F7 (iOS ì‹œìŠ¤í…œ ë°±ê·¸ë¼ìš´ë“œ)
- **Text Primary**: #000000
- **Text Secondary**: #6C6C70

#### íƒ€ì´í¬ê·¸ë˜í”¼
- **Large Title**: SF Pro Display, 34pt, Bold
- **Title 1**: SF Pro Display, 28pt, Regular
- **Title 2**: SF Pro Display, 22pt, Regular
- **Title 3**: SF Pro Display, 20pt, Regular
- **Headline**: SF Pro Text, 17pt, Semibold
- **Body**: SF Pro Text, 17pt, Regular
- **Callout**: SF Pro Text, 16pt, Regular
- **Caption**: SF Pro Text, 12pt, Regular

#### ìŠ¤í˜ì´ì‹± ì‹œìŠ¤í…œ
- **XXS**: 4pt
- **XS**: 8pt
- **S**: 12pt
- **M**: 16pt
- **L**: 24pt
- **XL**: 32pt
- **XXL**: 48pt

### 6.2 í™”ë©´ë³„ ìƒì„¸ ì„¤ê³„

#### í™ˆ í™”ë©´ (Home)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReadyRun                    [ğŸ””] [ğŸ‘¤] â”‚ â† Navigation Bar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Search marathons...              â”‚ â† Search Bar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ Near You              [See All] â”‚ â† Section Header
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [Hero Image]                    â”‚ â”‚
â”‚ â”‚ Seoul International Marathon    â”‚ â”‚ â† Marathon Card
â”‚ â”‚ Mar 17, 2024 â€¢ Seoul, KR       â”‚ â”‚
â”‚ â”‚ 42.2K â€¢ â‚©50,000            [â™¡] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [Hero Image]                    â”‚ â”‚
â”‚ â”‚ Jeju Island Marathon            â”‚ â”‚
â”‚ â”‚ Apr 14, 2024 â€¢ Jeju, KR        â”‚ â”‚
â”‚ â”‚ 21.1K â€¢ â‚©35,000            [â™¡] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”¥ Popular This Month    [See All] â”‚
â”‚ â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”         â”‚ â† Horizontal Scroll
â”‚ â”‚[I]â”‚ â”‚[I]â”‚ â”‚[I]â”‚ â”‚[I]â”‚         â”‚
â”‚ â”‚ B â”‚ â”‚ T â”‚ â”‚ N â”‚ â”‚ L â”‚         â”‚
â”‚ â”‚ M â”‚ â”‚ M â”‚ â”‚ Y â”‚ â”‚ M â”‚         â”‚
â”‚ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [AdMob Banner Ad]                   â”‚ â† ê´‘ê³  ì˜ì—­
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ [Home] [Search] [â¤ï¸] [Profile]      â”‚ â† Tab Bar
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìƒí˜¸ì‘ìš©**:
- ê²€ìƒ‰ë°” íƒ­ â†’ ê²€ìƒ‰ í™”ë©´ìœ¼ë¡œ ì´ë™
- ë§ˆë¼í†¤ ì¹´ë“œ íƒ­ â†’ ìƒì„¸ í™”ë©´ìœ¼ë¡œ ì´ë™
- í•˜íŠ¸ ì•„ì´ì½˜ íƒ­ â†’ ì¦ê²¨ì°¾ê¸° í† ê¸€
- "See All" íƒ­ â†’ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ ëª©ë¡ í™”ë©´

#### ê²€ìƒ‰ í™”ë©´ (Search)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ•  ğŸ” Search...           [Filter] â”‚ â† Search + Filter
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ Korea â€¢ ğŸƒ Full â€¢ ğŸ“… 2024   âœ•   â”‚ â† Active Filters
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Sort: Date â†‘                    [â‰¡] â”‚ â† Sort Options
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [Thumb] Seoul Marathon          â”‚ â”‚
â”‚ â”‚         Mar 17 â€¢ Seoul          â”‚ â”‚ â† Search Results
â”‚ â”‚         â™¡ 89 views â€¢ 42.2K      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [Thumb] Busan International     â”‚ â”‚
â”‚ â”‚         Apr 14 â€¢ Busan          â”‚ â”‚
â”‚ â”‚         â™¡ 156 views â€¢ 21.1K     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [Thumb] Jeju Marathon           â”‚ â”‚
â”‚ â”‚         May 20 â€¢ Jeju           â”‚ â”‚
â”‚ â”‚         â™¡ 203 views â€¢ 10K       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ [Load More Results]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [AdMob Banner Ad]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í•„í„° ì˜µì…˜**:
- **ê±°ë¦¬**: 5K, 10K, Half Marathon, Full Marathon
- **êµ­ê°€**: ëŒ€í•œë¯¼êµ­, ì¼ë³¸, ë¯¸êµ­, ê¸°íƒ€
- **ë‚ ì§œ**: Custom Date Range Picker
- **ì°¸ê°€ë¹„**: ë¬´ë£Œ, ~50,000ì›, 50,000~100,000ì›, 100,000ì›+
- **íƒœê·¸**: ê²½ì¹˜ì¢‹ì€, í‰ì§€, ë„ì „ì , ì´ˆë³´ìì¹œí™”ì 

#### ë§ˆë¼í†¤ ìƒì„¸ í™”ë©´ (Marathon Detail)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Seoul International Marathon  [â™¡] â”‚ â† Navigation + Favorite
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [                                 ] â”‚
â”‚ [       Hero Image                ] â”‚ â† Hero Image
â”‚ [                                 ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“… March 17, 2024 (Sunday)         â”‚
â”‚ ğŸ“ Seoul Olympic Park, Seoul, KR   â”‚ â† Basic Info
â”‚ ğŸƒ 42.2K Full Marathon             â”‚
â”‚ ğŸ’³ â‚©50,000 â€¢ Deadline: Feb 28      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Register Now] [Share] [Directions] â”‚ â† Action Buttons
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â„¹ï¸ Details                          â”‚
â”‚ The Seoul International Marathon    â”‚
â”‚ is one of Korea's premier running   â”‚ â† Description
â”‚ events, featuring a scenic course   â”‚
â”‚ through the heart of Seoul...       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ—ºï¸ Course Map                       â”‚
â”‚ [                                 ] â”‚
â”‚ [       Course Map Image          ] â”‚ â† Course Map
â”‚ [                                 ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š Event Details                    â”‚
â”‚ â€¢ Organizer: Seoul Sports Council   â”‚
â”‚ â€¢ Max Participants: 30,000          â”‚ â† Additional Info
â”‚ â€¢ Elevation Gain: 150m              â”‚
â”‚ â€¢ Difficulty: â­â­â­                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [AdMob Banner Ad]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì¦ê²¨ì°¾ê¸° í™”ë©´ (Favorites)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ My Favorites                   [Edit] â”‚ â† Navigation
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“… Upcoming (3)                     â”‚ â† Section
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [Thumb] Seoul Marathon          â”‚ â”‚
â”‚ â”‚         Mar 17 â€¢ 15 days left   â”‚ â”‚ â† Time until event
â”‚ â”‚         Registration closes in  â”‚ â”‚
â”‚ â”‚         3 days                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ ğŸ“‹ Past Events (12)                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [Thumb] Tokyo Marathon          â”‚ â”‚
â”‚ â”‚         Feb 25 â€¢ Completed      â”‚ â”‚
â”‚ â”‚         [Add Review]            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [AdMob Banner Ad]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### í”„ë¡œí•„ í™”ë©´ (Profile)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Profile                      [Settings] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€